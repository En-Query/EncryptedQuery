(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"static/media/ENQUERY_final_RGB.1f177dda.png"},171:function(e,t,a){},265:function(e,t,a){e.exports=a(461)},270:function(e,t,a){},271:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},272:function(e,t,a){e.exports=a.p+"static/media/enqueryLogo.489c6c78.png"},437:function(e,t,a){},461:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(44),c=a.n(l),s=(a(270),a(271),a(222)),o=a(223),i=a(119),u=a(19),m=a(20),d=a(22),h=a(21),p=a(23),f=a(84),E=a(99),y=(a(272),a(101)),g=a.n(y),v=a(68),S=a(490),b=a(165),x=a(468),C=a(485),q=a(253),k=a(462),w=a(59),O=a(469),j=a(250),U=a(486),T=a(251),I=a(470),A=a(482);a(171);function N(){var e=Object(f.a)(["\n  &&& {\n    background-color: gray;\n  }\n"]);return N=function(){return e},e}var Q=function(){return"undefined"===typeof window?S.a.onlyTablet.minWidth:window.innerWidth},D=Object(v.a)(b.a)(N()),R=function(e){var t=e.mobile;return r.a.createElement(x.a,{text:!0},r.a.createElement(C.a,{as:"h1",style:{fontSize:t?"2em":"4em",fontWeight:"normal",marginBottom:0,marginTop:t?"1.5em":"3em"}},r.a.createElement(q.a,{src:g.a,style:{width:"360px",height:"auto"}})),r.a.createElement(C.a,{as:"h2",content:"Start by creating a Query Schema",inverted:!0,style:{fontSize:t?"1.5em":"1.7em",fontWeight:"normal",marginTop:t?"0.5em":"1.5em"}}),r.a.createElement(k.a,{primary:!0,size:"huge",as:E.a,name:"createQuerySchema",to:"/createqueryschema",style:{marginTop:"30px"}},"Get Started",r.a.createElement(w.a,{name:"right arrow"})))},H=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},a.hideFixedMenu=function(){return a.setState({fixed:!1})},a.showFixedMenu=function(){return a.setState({fixed:!0})},a.handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,a=(t.fixed,t.activeItem);return r.a.createElement(S.a,{getWidth:Q,minWidth:S.a.onlyTablet.minWidth},r.a.createElement(D,{textAlign:"center",style:{minHeight:700,padding:"0em 0em"},vertical:!0},r.a.createElement(O.a,null,r.a.createElement(j.a,{inverted:!0,style:{margin:0},size:"large"},r.a.createElement(x.a,null,r.a.createElement(j.a.Item,{className:"menu_color_white",header:!0},"EnQuery"),r.a.createElement(j.a.Item,{className:"menu_color_white",as:E.a,to:"/",name:"home",active:"home"===a,onClick:this.handleItemClick},"Home"),r.a.createElement(j.a.Item,{className:"menu_color_white",as:E.a,to:"/createqueryschema",name:"createQuerySchema",active:"createQuerySchema"===a,onClick:this.handleItemClick},"Create Query Schema"),r.a.createElement(j.a.Item,{className:"menu_color_white",as:E.a,to:"/createquery",name:"createQuery",active:"createQuery"===a,onClick:this.handleItemClick},"Create Query"),r.a.createElement(j.a.Item,{className:"menu_color_white",as:E.a,to:"/querystatus",name:"queryStatus",active:"queryStatus"===a,onClick:this.handleItemClick},"Query Status"),r.a.createElement(j.a.Menu,{position:"right"},r.a.createElement(j.a.Item,{className:"menu_color_white",as:E.a,to:"/overview",name:"overview",active:"overview"===a,onClick:this.handleItemClick,position:"right"},"Docs"),r.a.createElement(j.a.Item,{className:"menu_color_white",as:E.a,to:"/offline",name:"offline",active:"offline"===a,onClick:this.handleItemClick,position:"right"},"Offline Mode"),r.a.createElement(j.a.Item,{className:"menu_color_white",as:E.a,to:"/versions",name:"versions",active:"versions"===a,onClick:this.handleItemClick,position:"right",style:{textDecoration:"underline"}},"2.1.2"),r.a.createElement(j.a.Item,{className:"menu_color_white",position:"right",href:"https://github.com/En-Query/EncryptedQuery",target:"_blank"},r.a.createElement(w.a,{name:"github",size:"big"})))))),r.a.createElement(R,null)),e)}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleSidebarHide=function(){return a.setState({sidebarOpened:!1})},a.handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.handleToggle=function(){return a.setState({sidebarOpened:!0})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,a=t.sidebarOpened,n=t.activeItem;return r.a.createElement(S.a,{as:U.a.Pushable,getWidth:Q,maxWidth:S.a.onlyMobile.maxWidth},r.a.createElement(U.a,{as:j.a,animation:"push",inverted:!0,onHide:this.handleSidebarHide,vertical:!0,visible:a},r.a.createElement(j.a.Item,{header:!0},"EnQuery"),r.a.createElement(j.a.Item,{as:E.a,to:"/",name:"home",active:"home"===n,onClick:this.handleItemClick},"Home"),r.a.createElement(j.a.Item,{as:E.a,to:"/createqueryschema",name:"createqueryschema",active:"createQuerySchema"===n,onClick:this.handleItemClick},"Create Query Schema"),r.a.createElement(j.a.Item,{as:E.a,to:"/createquery",name:"createQuery",active:"createQuery"===n,onClick:this.handleItemClick},"Create Query"),r.a.createElement(j.a.Item,{as:E.a,to:"/querystatus",name:"queryStatus",active:"queryStatus"===n,onClick:this.handleItemClick},"Query Status")),r.a.createElement(U.a.Pusher,{dimmed:a},r.a.createElement(b.a,{inverted:!0,textAlign:"center",style:{minHeight:350,padding:"1em 0em"},vertical:!0},r.a.createElement(x.a,null,r.a.createElement(j.a,{inverted:!0,pointing:!0,secondary:!0,size:"large"},r.a.createElement(j.a.Item,{onClick:this.handleToggle},r.a.createElement(w.a,{name:"sidebar"})))),r.a.createElement(R,{mobile:!0})),e))}}]),t}(n.Component),F=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(H,null,t),r.a.createElement(L,null,t))},M=function(){return r.a.createElement(F,null,r.a.createElement(b.a,{style:{padding:"8em 0em"},vertical:!0},r.a.createElement(T.a,{container:!0,stackable:!0,verticalAlign:"middle"},r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,{width:8},r.a.createElement(C.a,{as:"h3",style:{fontSize:"2em"}},"Ask a secret question | Get a secret answer"),r.a.createElement("p",{style:{fontSize:"1.33em"}},"Encrypted Query is designed to allow a user to query a remote database without revealing the contents of the query or the results from the database server.")),r.a.createElement(T.a.Column,{floated:"right",width:6},r.a.createElement(q.a,{bordered:!0,rounded:!0,size:"large",src:g.a}))),r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,{textAlign:"center"},r.a.createElement(k.a,{size:"huge"},r.a.createElement("a",{href:"https://enquery.net"},"Learn More")))))),r.a.createElement(b.a,{style:{padding:"0em"},vertical:!0},r.a.createElement(T.a,{celled:"internally",columns:"equal",stackable:!0},r.a.createElement(T.a.Row,{textAlign:"center"},r.a.createElement(T.a.Column,{style:{paddingBottom:"5em",paddingTop:"5em"}},r.a.createElement(C.a,{as:"h3",style:{fontSize:"2em"}},'"Cybersecurity Built on Decades of Experience"'),r.a.createElement("p",{style:{fontSize:"1.33em"}},"EnQuery\u2019s team has decades of experience in the areas of advanced mathematics, cryptography, embedded and enterprise software development, as well as hardware designs and implementations.")),r.a.createElement(T.a.Column,{style:{paddingBottom:"5em",paddingTop:"5em"}},r.a.createElement(C.a,{as:"h3",style:{fontSize:"2em"}},"TAKING PRIVACY TO A NEW HORIZON"),r.a.createElement("p",{style:{fontSize:"1.33em"}},"Our enterprise development team has built a scalable, maintainable, and easy-to-deploy solution for batch and stream processing. We are attaining new heights in cryptographically secure systems, and we are using math\u2014not magic\u2014to do it."))))),r.a.createElement(b.a,{style:{padding:"9em 0em"},vertical:!0},r.a.createElement(x.a,{text:!0,textAlign:"center"},r.a.createElement(I.a,{as:"h4",className:"header",horizontal:!0,style:{margin:"3em 0em",textTransform:"uppercase"}},r.a.createElement("a",{href:"https://github.com/En-Query/EncryptedQuery/blob/master/Running-README.md"},"End-to-End examples")),r.a.createElement(C.a,{as:"h3",style:{fontSize:"2em"}},"UI Overview"),r.a.createElement(x.a,{textAlign:"left",style:{width:"300px",padding:"0 0 0 40px"}},r.a.createElement(A.a,{ordered:!0},r.a.createElement(A.a.Item,{as:E.a,to:"/createqueryschema"},"Create Query Schema"),r.a.createElement(A.a.Item,{as:E.a,to:"/createquery"},"Create Query"),r.a.createElement(A.a.Item,{as:E.a,to:"/schedulequery"},"Schedule Query",r.a.createElement(A.a.List,null,r.a.createElement(A.a.Item,{as:"a"},"Choose parameters"),r.a.createElement(A.a.Item,null,r.a.createElement(A.a.Icon,{name:"calendar alternate"}),"Pick a date"))),r.a.createElement(A.a.Item,{as:E.a,to:"/querystatus"},"Query Status",r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Description,null,"Status page for scheduled queries"))))),r.a.createElement(k.a,{as:"a",size:"large",style:{marginTop:"30px"}},"Further Explanation"))),r.a.createElement(b.a,{inverted:!0,vertical:!0,style:{padding:"5em 0em"}},r.a.createElement(x.a,null,r.a.createElement(T.a,{divided:!0,inverted:!0,stackable:!0},r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,{width:3},r.a.createElement(C.a,{inverted:!0,as:"h4",content:"About"}),r.a.createElement(A.a,{link:!0,inverted:!0},r.a.createElement(A.a.Item,null,r.a.createElement("a",{href:"https://enquery.net/contact-us"},"Contact Us")),r.a.createElement(A.a.Item,null,r.a.createElement("a",{href:"https://github.com/En-Query/EncryptedQuery/blob/master/README.md"},"Documentation")),r.a.createElement(A.a.Item,null,r.a.createElement("a",{href:"https://github.com/En-Query/EncryptedQuery"},"GitHub")),r.a.createElement(A.a.Item,null,r.a.createElement("a",{href:"https://github.com/En-Query/EncryptedQuery/blob/master/Release-Notes.md"},"Release Notes")))),r.a.createElement(T.a.Column,{width:3},r.a.createElement(C.a,{inverted:!0,as:"h4",content:"Services"}),r.a.createElement(A.a,{link:!0,inverted:!0},r.a.createElement(A.a.Item,{as:"a"},"FAQ"),r.a.createElement(A.a.Item,{as:"a"},"How To Access"))),r.a.createElement(T.a.Column,{width:7},r.a.createElement(C.a,{as:"h4",inverted:!0},"EnQuery"),r.a.createElement("p",null,"Copyright (C) 2018 EnQuery LLC")))))))},z=a(56),P=a(45),B=a(90),V=a(8),W=a.n(V),_=a(18),Y=a(481),X=a(478),G=a(472),J=a(480),K=(a(149),a(383),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement(b.a,{inverted:!0,vertical:!0,style:{padding:"5em 0em"}},r.a.createElement(x.a,null,r.a.createElement(T.a,{divided:!0,inverted:!0,stackable:!0},r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,{width:3},r.a.createElement(C.a,{inverted:!0,as:"h4",content:"About"}),r.a.createElement(A.a,{link:!0,inverted:!0},r.a.createElement(A.a.Item,null,r.a.createElement("a",{href:"https://enquery.net/contact-us"},"Contact Us")),r.a.createElement(A.a.Item,null,r.a.createElement("a",{href:"https://github.com/En-Query/EncryptedQuery/blob/master/README.md"},"Documentation")),r.a.createElement(A.a.Item,null,r.a.createElement("a",{href:"https://github.com/En-Query/EncryptedQuery"},"GitHub")),r.a.createElement(A.a.Item,null,r.a.createElement("a",{href:"https://github.com/En-Query/EncryptedQuery/blob/master/Release-Notes.md"},"Release Notes")))),r.a.createElement(T.a.Column,{width:3},r.a.createElement(C.a,{inverted:!0,as:"h4",content:"Services"}),r.a.createElement(A.a,{link:!0,inverted:!0},r.a.createElement(A.a.Item,{as:"a"},"FAQ"),r.a.createElement(A.a.Item,{as:"a"},"How To Access"))),r.a.createElement(T.a.Column,{width:3},r.a.createElement(C.a,{inverted:!0,as:"h4",content:"Pages"}),r.a.createElement(A.a,{link:!0,inverted:!0},r.a.createElement(A.a.Item,null,r.a.createElement("a",{href:"#createqueryschema"},"Create Query Schema")),r.a.createElement(A.a.Item,null,r.a.createElement("a",{href:"#createquery"},"Create Query")),r.a.createElement(A.a.Item,null,r.a.createElement("a",{href:"#querystatus"},"Query Status")))),r.a.createElement(T.a.Column,{width:7},r.a.createElement(C.a,{as:"h4",inverted:!0},"EnQuery"),r.a.createElement("p",null,"Copyright (C) 2018 EnQuery LLC")))))))}}]),t}(n.Component)),$=function(){return"undefined"===typeof window?S.a.onlyTablet.minWidth:window.innerWidth},Z=function(e){e.mobile;return r.a.createElement(x.a,{text:!0})},ee=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,a=(t.fixed,t.activeItem);return r.a.createElement(S.a,{getWidth:$,minWidth:S.a.onlyTablet.minWidth},r.a.createElement(O.a,null,r.a.createElement(j.a,{fixed:"top",inverted:!0},r.a.createElement(x.a,null,r.a.createElement(j.a.Item,{as:E.a,to:"/",name:"home",active:"home"===a,onClick:this.handleItemClick},"EnQuery"),r.a.createElement(j.a.Item,{as:E.a,to:"/versions",name:"versions",active:"versions"===a,onClick:this.handleItemClick,style:{textDecoration:"underline"}},"2.1.2"),r.a.createElement(j.a.Menu,{position:"right"},r.a.createElement(j.a.Item,{as:E.a,to:"/overview",name:"overview",active:"overview"===a,onClick:this.handleItemClick,position:"right"},"Docs"),r.a.createElement(j.a.Item,{as:E.a,to:"/offline",name:"offline",active:"admin"===a,onClick:this.handleItemClick,position:"right"},"Offline Mode"),r.a.createElement(j.a.Item,{className:"menu_color_white",position:"right",href:"https://github.com/En-Query/EncryptedQuery",target:"_blank"},r.a.createElement(w.a,{name:"github",size:"big"})))))),r.a.createElement(Z,null),e)}}]),t}(n.Component),te=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(ee,null,t)," ")},ae=function(){return r.a.createElement(te,null)},ne=a(471),re=[{key:" fixed",text:"Fixed",value:"fixed"},{key:"variable",text:"variable",value:"variable"}],le=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).checkbox=function(){a.setState({fieldCheckbox:!a.state.fieldCheckbox},function(){console.log("checkbox --\x3e ",a.state.fieldCheckbox);var e=a.props,t=e.name,n=e.dataType,r=e.isArray,l=e.position;(0,e.box)({name:t,dataType:n,isArray:r,position:l,isChecked:a.state.fieldCheckbox})})};var n=a.props.initialState;return a.state={fieldCheckbox:n,lengthType:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.dataType,n=e.isArray,l=e.position,c=e.handleChange,s=e.lengthType,o=e.onLengthTypeChange;this.state.fieldCheckbox;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a.Row,null,r.a.createElement(ne.a,{style:{marginTop:"20px"},checkbox:!0,onChange:this.checkbox}),r.a.createElement(Y.a.Cell,null,t),r.a.createElement(Y.a.Cell,null,a),r.a.createElement(Y.a.Cell,null,JSON.stringify(n)),r.a.createElement(Y.a.Cell,null,l),r.a.createElement(Y.a.Cell,null,r.a.createElement(J.a,{placeholder:"Pick a length Type:",clearable:!0,selection:!0,search:!0,fluid:!0,noResultsMessage:"Please search again",label:"lengthType",multiple:!1,options:re,header:"Choose a Length Type",onChange:function(e){return o(e,t)},value:s,disabled:!this.state.fieldCheckbox})),r.a.createElement(Y.a.Cell,null,r.a.createElement(G.a,{onChange:function(e){return c(e,t)},value:this.state.size,type:"number",name:"size",min:"1",placeholder:"1",disabled:!this.state.fieldCheckbox})),r.a.createElement(Y.a.Cell,null,r.a.createElement(G.a,{onChange:function(e){return c(e,t)},value:this.state.maxArrayElements,type:"number",name:"maxArrayElements",placeholder:"1",min:"1",max:"100",disabled:!this.state.fieldCheckbox}))))}}]),t}(r.a.Component),ce=a(17),se=a.n(ce),oe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).getSchemas=Object(_.a)(W.a.mark(function e(){var t,n,r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se()({method:"get",url:"/querier/api/rest/dataschemas",headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 3:t=e.sent,n=t.data,r=n.data,a.setState({dataschemas:r,isLoading:!1}),console.log("This is the dataschema list:",r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(Error("Error fetching results list: ".concat(e.t0.message)));case 13:case"end":return e.stop()}},e,null,[[0,10]])})),a.handleSchemaChange=function(e,t){var n=t.value;a.setState({dataSchemaName:n},function(){console.log("Chosen dataSchema ---\x3e ",a.state.dataSchemaName)});var r=a.state.dataschemas.find(function(e){return e.name===n});r&&se()({method:"get",url:r.selfUri,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}}).then(function(e){console.log(e),a.setState({fields:e.data.data.fields,selectedId:e.data.data.id,querySchemasUri:e.data.data.querySchemasUri}),console.log(a.state.fields),console.log(a.state.selectedId),console.log(a.state.querySchemasUri),localStorage.setItem("querySchemasUri",a.state.querySchemasUri)}).catch(function(e){return console.log(e.response)})},a.handleQuerySchemaNameChange=function(e){a.setState({querySchemaName:e.target.value})},a.handleSelectorFieldChange=function(e,t){var n=t.value;a.setState({selectorField:n},function(){console.log("Chosen selectorField ---\x3e ",a.state.selectorField)})},a.handleChange=function(e,t){var n=a.state.selectedFields;n.some(function(e){return e.name===t})&&a.setState({selectedFields:Object(B.a)(n.map(function(a){return a.name!==t?a:Object(P.a)({},a,Object(z.a)({name:t},e.target.name,e.target.value))}))})},a.onLengthTypeChange=function(e,t){var n=e.currentTarget.textContent,r=a.state.selectedFields;r.some(function(e){return e.name===t})&&a.setState({selectedFields:r.map(function(e){return e.name!==t?e:{name:t,lengthType:n}})})},a.handleCancel=function(e){e.target.reset()},a.handleSubmit=function(e){var t=a.state,n=t.selectedFields,r=t.selectorField,l=t.querySchemaName;console.log(JSON.stringify(n)),e.preventDefault();var c=localStorage.getItem("querySchemasUri");se()({method:"post",url:"".concat(c),headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1","Content-Type":"application/json"},data:JSON.stringify({name:l,selectorField:r,fields:n})}).then(function(e){console.log(e)}).catch(function(e){return console.log(e.response)}),a.props.history.push("/createquery")},a.checkbox=function(e){var t=e.name;!0===e.isChecked?a.setState({selectedFields:[].concat(Object(B.a)(a.state.selectedFields),[{name:t}])},function(){console.log("callback in  isChecked if conditional",a.state.selectedFields)}):a.setState({selectedFields:a.state.selectedFields.filter(function(e){return e.name!==t})},function(){console.log("box unchecked, deleted from object ---\x3e",a.state.selectedFields)})},a.state={dataschemas:[],dataSchemaName:"",querySchemaName:"",fields:[],selectorField:"",size:{},lengthType:"",maxArrayElements:{},fieldNames:[],isLoading:!0,fieldCheckbox:!1,selectedFields:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(W.a.mark(function e(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSchemas();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.dataschemas,n=t.dataSchemaName,l=t.querySchemaName,c=t.fields,s=t.selectorField,o=(t.fieldNames,t.lengthType,t.size,t.maxArrayElements,t.selectedFields);return r.a.createElement("div",{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},r.a.createElement(ae,null),r.a.createElement("div",{style:{flex:1}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flex:"1"}},r.a.createElement("div",{style:{width:"1100px"}},r.a.createElement(X.a,{onSubmit:this.handleSubmit},r.a.createElement(b.a,{style:{padding:"5em 1em"},vertical:!0},r.a.createElement(I.a,{horizontal:!0},"Query Schema Information"),r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Query Schema Name: "),r.a.createElement(G.a,{placeholder:"Enter Query Schema Name",name:"querySchemaName",value:l,onChange:this.handleQuerySchemaNameChange,required:!0})),r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Select a Data Schema"),r.a.createElement(J.a,{placeholder:"Select data schema",scrolling:!0,clearable:!0,fluid:!0,selection:!0,search:!0,noResultsMessage:"Try a different Search",multiple:!1,options:a.map(function(e){return{key:e.id,text:e.name,value:e.name}}),header:"PLEASE SELECT A DATASCHEMA",value:n,onChange:this.handleSchemaChange})),r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Choose a Selector Field "),r.a.createElement(J.a,{placeholder:"Pick a selector field",clearable:!0,fluid:!0,selection:!0,search:!0,noResultsMessage:"Please search again",multiple:!1,options:c.map(function(e){return{key:e.id,text:e.name,value:e.name}}),header:"CHOOSE A SELECTOR FIELD",value:s,onChange:this.handleSelectorFieldChange,required:!0})),r.a.createElement(I.a,{style:{marginTop:"2em"},horizontal:!0},"Field(s) Selection"),r.a.createElement(Y.a,{celled:!0,compact:!0,definition:!0,selectable:!0},r.a.createElement(Y.a.Header,{fullWidth:!0},r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.HeaderCell,null),r.a.createElement(Y.a.HeaderCell,null,"Name"),r.a.createElement(Y.a.HeaderCell,null,"Data Type"),r.a.createElement(Y.a.HeaderCell,null,"isArray"),r.a.createElement(Y.a.HeaderCell,null,"Position"),r.a.createElement(Y.a.HeaderCell,{textAlign:"center"},"LengthType"),r.a.createElement(Y.a.HeaderCell,{textAlign:"center"},"Size"),r.a.createElement(Y.a.HeaderCell,{textAlign:"center"},"MaxArrayElements"))),r.a.createElement(Y.a.Body,null,Object.values(c).map(function(t){var a=t.name,n=t.dataType,l=t.isArray,c=t.position;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{id:a,name:a,dataType:n,isArray:l,position:c,initialState:Object.keys(o).includes(a),box:e.checkbox.bind(e),handleChange:e.handleChange,onLengthTypeChange:e.onLengthTypeChange}))}))),r.a.createElement(X.a.Button,{positive:!0,fluid:!0,content:"Submit",style:{marginTop:"50px"}})))))),r.a.createElement(K,null))}}]),t}(r.a.Component),ie=a(479),ue=a(473),me=a(483);a(411)(se.a);var de=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).addSelectorValue=function(e){e.stopPropagation(),e.preventDefault(),a.setState(function(e){var t=e.selectorValues,a=e.selectorValue;return{selectorValues:[].concat(Object(B.a)(t),Object(B.a)(a.replace(/\r?\n|\r/g,"").split(",").map(function(e){return e.trim().replace(/^"(.*)"$/,"$1")}))),selectorValue:""}},function(){console.log("selectorValues ---\x3e ",a.state.selectorValues)})},a.handleSelectorValueChange=function(e){var t=e.target.value;a.setState({selectorValue:t})},a.getSchemas=Object(_.a)(W.a.mark(function e(){var t,n,r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se()({method:"get",url:"/querier/api/rest/dataschemas",headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 3:t=e.sent,n=t.data,console.log(n),r=n.data,a.setState({dataschemas:r,isLoading:!1}),console.log("This is the dataschema list:",r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(Error("Error fetching results list: ".concat(e.t0.message)));case 14:case"end":return e.stop()}},e,null,[[0,11]])})),a.handleSchemaChange=function(){var e=Object(_.a)(W.a.mark(function e(t,n){var r,l,c,s;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.value,a.setState({dataSchemaName:r},function(){console.log("Chosen dataSchema ---\x3e ",a.state.dataSchemaName)}),!(l=a.state.dataschemas.find(function(e){return e.name===r}))){e.next=17;break}return e.prev=4,e.next=7,se()({method:"get",url:l.selfUri,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 7:c=e.sent,s=c.data,console.log(s),a.setState({queryschemaUri:s.data.querySchemasUri}),console.log("queryschemaUri from dataschema change ---\x3e ",a.state.queryschemaUri),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(Error("Error fetching specific schema: ".concat(e.t0.message)));case 17:a.getQuerySchemas();case 18:case"end":return e.stop()}},e,null,[[4,14]])}));return function(t,a){return e.apply(this,arguments)}}(),a.getQuerySchemas=Object(_.a)(W.a.mark(function e(){var t,n,r,l;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.queryschemaUri,e.prev=1,e.next=4,se()({method:"get",url:t,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 4:n=e.sent,r=n.data,console.log("Data from queryschemaUri fetch --\x3e ",r),l=r.data,a.setState({queryschemas:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(Error("Error getting queryschemas: ".concat(e.t0.message)));case 14:case"end":return e.stop()}},e,null,[[1,11]])})),a.handleQuerySchemaChange=function(){var e=Object(_.a)(W.a.mark(function e(t,n){var r,l,c,s,o,i,u,m;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.value,a.setState({querySchemaName:r},function(){console.log("Chosen querySchema ---\x3e ",a.state.querySchemaName)}),!(l=a.state.queryschemas.find(function(e){return e.name===r}))){e.next=20;break}return c=l.id,s=l.name,o=l.selfUri,a.setState({querySchemaId:c,querySchemaName:s,querySchemaSelfUri:o}),e.prev=6,e.next=9,se()({method:"get",url:o,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 9:i=e.sent,u=i.data,console.log("Specific querySchema data from selfUri request ---\x3e ",u),m=u.data,a.setState({queryschema:m,selectorField:m.selectorField,queriesUri:m.queriesUri},function(){console.log("queryschema ---\x3e ",m),console.log("selectorField ---\x3e ",a.state.selectorField),console.log("queriesUri ---\x3e",a.state.queriesUri)}),localStorage.setItem("queriesUri",a.state.queriesUri),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.error(Error("Error getting specific querySchema: ".concat(e.t0.message)));case 20:case"end":return e.stop()}},e,null,[[6,17]])}));return function(t,a){return e.apply(this,arguments)}}(),a.handleChange=function(e,t){var n=t.value;a.setState({dataChunkSize:n},function(){console.log("dataChunkSize ---\x3e ",a.state.dataChunkSize)})},a.handleQueryNameChange=function(e,t){var n=t.value;a.setState({queryName:n},function(){console.log("QueryName entered ---\x3e ",a.state.queryName)})},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.queryName,r=t.dataChunkSize,l=t.selectorValues;t.embededSelector;console.log(a.state);var c=localStorage.getItem("queriesUri");se()({method:"post",url:"".concat(c),headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1","Content-Type":"application/json"},data:JSON.stringify({name:n,parameters:{dataChunkSize:r},selectorValues:l,embedSelector:!0})}).then(function(e){console.log(e)}).catch(function(e){return console.log(e.response)}),a.props.history.push("/querystatus")},a.state={dataschemas:[],queryName:"",dataSchemaName:"",queryschemas:[],selectorField:"",queriesUri:"",dataChunkSize:3,selectorValue:"",selectorValues:[],isLoading:!0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"removeSelectorValue",value:function(e){this.setState({selectorValues:this.state.selectorValues.filter(function(t,a){return a!==e})})}},{key:"componentDidMount",value:function(){var e=Object(_.a)(W.a.mark(function e(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSchemas();case 2:return e.next=4,this.handleSchemaChange();case 4:return e.next=6,this.getQuerySchemas();case 6:return e.next=8,this.handleQuerySchemaChange();case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.dataschemas,n=t.queryschemas,l=(t.queryName,t.dataSchemaName),c=t.querySchemaName,s=t.selectorField,o=t.value,i=t.dataChunkSize;t.selectorValues;return r.a.createElement("div",{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},r.a.createElement(ae,null),r.a.createElement("div",{style:{flex:1}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flex:"1"}},r.a.createElement("div",{style:{width:"900px"}},r.a.createElement(X.a,{onSubmit:this.handleSubmit},r.a.createElement(b.a,{style:{padding:"5em 1em"},vertical:!0},r.a.createElement(I.a,{horizontal:!0},"Query Creation Information"),r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Query Name: "),r.a.createElement(G.a,{placeholder:"Enter query Name",name:"queryName",value:o,onChange:this.handleQueryNameChange,required:!0})),r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Select a Data Schema"),r.a.createElement(J.a,{placeholder:"Select data schema",scrolling:!0,clearable:!0,fluid:!0,selection:!0,search:!0,noResultsMessage:"Try a different Search",multiple:!1,options:a.map(function(e){return{key:e.id,text:e.name,value:e.name}}),header:"PLEASE SELECT A DATASCHEMA",value:l,onChange:this.handleSchemaChange,required:!0})),r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Select a Query Schema"),r.a.createElement(J.a,{placeholder:"Select query schema",scrolling:!0,clearable:!0,fluid:!0,selection:!0,search:!0,noResultsMessage:"Try a different Search",multiple:!1,options:n.map(function(e){return{key:e.id,text:e.name,value:e.name}}),header:"PLEASE SELECT A QUERYSCHEMA",value:c,onChange:this.handleQuerySchemaChange,required:!0})),r.a.createElement(X.a.Field,null,r.a.createElement("label",null,"SelectorField used to create the query schema"),r.a.createElement(G.a,{fluid:!0,readOnly:!0,multiple:!1,value:s}))),r.a.createElement(b.a,{style:{padding:"5em 1em"},vertical:!0},r.a.createElement(I.a,{horizontal:!0},"RUN PARAMETERS"),r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Data Chunk Size:"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(G.a,{value:i,onChange:this.handleChange,type:"number",min:"1",required:!0}),r.a.createElement(ie.a,{trigger:r.a.createElement(k.a,{icon:"info",size:"mini",circular:!0,style:{margin:"5px"}}),content:"Description about what size does"}))),r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Selector Values:"),r.a.createElement(ue.a,{type:"text",placeholder:"Enter selector values 1-by-1 or as a comma seperated list.",value:this.state.selectorValue,onChange:this.handleSelectorValueChange,required:!this.state.selectorValues.length}),r.a.createElement(k.a,{color:"blue",fluid:!0,onClick:this.addSelectorValue},"Add Selector Value(s)"),r.a.createElement("ul",null,this.state.selectorValues.map(function(t,a){return r.a.createElement(me.a,null,r.a.createElement(me.a.Content,null,t,r.a.createElement(k.a,{size:"mini",compact:!0,floated:"right",basic:!0,color:"red",onClick:e.removeSelectorValue.bind(e,a)},"X")))}))),r.a.createElement(X.a.Button,{fluid:!0,positive:!0,content:"Submit Query",style:{marginTop:"80px"}})))))),r.a.createElement(K,null))}}]),t}(n.Component),he=a(224),pe=a(70),fe=a.n(pe),Ee=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).getSchemas=Object(_.a)(W.a.mark(function e(){var t,n,r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se()({method:"get",url:"/querier/api/rest/dataschemas",headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 3:t=e.sent,n=t.data,console.log(n),r=n.data,a.setState({dataschemas:r,isLoading:!1}),console.log("This is the dataschema list:",r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(Error("Error fetching results list: ".concat(e.t0.message)));case 14:case"end":return e.stop()}},e,null,[[0,11]])})),a.handleSchemaChange=function(){var e=Object(_.a)(W.a.mark(function e(t,n){var r,l,c,s;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.value,a.setState({dataSchemaName:r},function(){console.log("Chosen dataSchema ---\x3e ",a.state.dataSchemaName)}),!(l=a.state.dataschemas.find(function(e){return e.name===r}))){e.next=17;break}return e.prev=4,e.next=7,se()({method:"get",url:l.selfUri,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 7:c=e.sent,s=c.data,console.log(s),a.setState({queryschemaUri:s.data.querySchemasUri}),console.log("queryschemaUri from dataschema change ---\x3e ",a.state.queryschemaUri),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(Error("Error fetching specific schema: ".concat(e.t0.message)));case 17:a.getQuerySchemas();case 18:case"end":return e.stop()}},e,null,[[4,14]])}));return function(t,a){return e.apply(this,arguments)}}(),a.getQuerySchemas=Object(_.a)(W.a.mark(function e(){var t,n,r,l;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.queryschemaUri,e.prev=1,e.next=4,se()({method:"get",url:t,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 4:n=e.sent,r=n.data,console.log("Data from queryschemaUri fetch --\x3e ",r),l=r.data,a.setState({queryschemas:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(Error("Error getting queryschemas: ".concat(e.t0.message)));case 14:case"end":return e.stop()}},e,null,[[1,11]])})),a.handleQuerySchemaChange=function(){var e=Object(_.a)(W.a.mark(function e(t,n){var r,l,c,s,o,i,u,m;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.value,a.setState({querySchemaName:r},function(){console.log("Chosen querySchema ---\x3e ",a.state.querySchemaName)}),!(l=a.state.queryschemas.find(function(e){return e.name===r}))){e.next=22;break}return c=l.id,s=l.name,o=l.selfUri,a.setState({querySchemaId:c,querySchemaName:s,querySchemaSelfUri:o}),e.prev=6,e.next=9,se()({method:"get",url:o,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 9:i=e.sent,u=i.data,console.log("Specific querySchema data from selfUri request ---\x3e ",u),m=u.data,a.setState({queryschema:m,queriesUri:m.queriesUri}),console.log("queryschema ---\x3e ",m),console.log("queriesUri ---\x3e",a.state.queriesUri),localStorage.setItem("queriesUri",a.state.queriesUri),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.error(Error("Error getting specific querySchema: ".concat(e.t0.message)));case 22:a.getQueryData();case 23:case"end":return e.stop()}},e,null,[[6,19]])}));return function(t,a){return e.apply(this,arguments)}}(),a.getQueryData=Object(_.a)(W.a.mark(function e(){var t,n,r,l;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.queriesUri,e.prev=1,e.next=4,se()({method:"get",url:t,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 4:n=e.sent,r=n.data,console.log("queriesUri data --\x3e ",r.data),l=r.data,a.setState({queries:l,querySelfUri:r.data[0].selfUri}),console.log(a.state.querySelfUri),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(Error("Error getting queriesUri data: ".concat(e.t0.message)));case 15:case"end":return e.stop()}},e,null,[[1,12]])})),a.handleSort=function(e){return function(){var t=a.state,n=t.column,r=t.queries,l=t.direction;n===e?a.setState({data:r.reverse(),direction:"ascending"===l?"descending":"ascending"}):a.setState({column:e,data:fe.a.sortBy(r,[e]),direction:"ascending"})}},a.handleButtonView=function(e,t){switch(e){case"Created":return r.a.createElement(k.a,{className:"btnNoAction"}," NO ACTION ");case"Encrypting":return r.a.createElement(k.a,null," ENCRYPTING ... ");case"Encrypted":return r.a.createElement(k.a,{onClick:function(e){return a.scheduleQuery(e,t)},type:"button"},"SCHEDULE");case"Scheduled":return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{onClick:function(e){return a.viewSchedules(e,t)},type:"button"},"VIEW SCHEDULES"," "),r.a.createElement(k.a,{onClick:function(e){return a.scheduleAgain(e,t)},type:"button"},"SCHEDULE AGAIN"," "));case"Failed":return r.a.createElement(k.a,{color:"red"}," Failed ");default:return null}},a.scheduleQuery=function(){var e=Object(_.a)(W.a.mark(function e(t,n){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.setState({querySelfUri:n});case 3:localStorage.setItem("querySelfUri",a.state.querySelfUri),console.log("This query will be used to load info on the next page:",a.state.querySelfUri),a.props.history.push("/schedulequery");case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.viewSchedules=function(){var e=Object(_.a)(W.a.mark(function e(t,n){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.setState({querySelfUri:n});case 3:localStorage.setItem("querySelfUri",a.state.querySelfUri),console.log("This query will be used to load info on the next page:",a.state.querySelfUri),a.props.history.push("/queryschedulesstatus");case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.scheduleAgain=function(){var e=Object(_.a)(W.a.mark(function e(t,n){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.setState({querySelfUri:n});case 3:localStorage.setItem("querySelfUri",a.state.querySelfUri),console.log("This query will be used to load info on the next page:",a.state.querySelfUri),a.props.history.push("/schedulequery");case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.state={dataschemas:[],queryName:"",queryschemas:[],dataSchemaName:"",queriesUri:"",queries:[],column:null,direction:null,querySelfUri:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=Object(_.a)(W.a.mark(function e(){var t=this;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSchemas();case 2:return e.next=4,this.handleSchemaChange();case 4:return e.next=6,this.getQuerySchemas();case 6:return e.next=8,this.handleQuerySchemaChange();case 8:return e.next=10,this.getQueryData();case 10:this.interval=setInterval(function(){return t.getQueryData()},5e3);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataschemas,n=t.queryschemas,l=t.dataSchemaName,c=t.querySchemaName,s=t.queries,o=t.column,i=t.direction;this.props.match.params.querySelfUri;return r.a.createElement("div",{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},r.a.createElement(ae,null),r.a.createElement("div",{style:{flex:1}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flex:"1"}},r.a.createElement("div",{style:{width:"1100px"}},r.a.createElement(X.a,{onSubmit:this.handleSubmit},r.a.createElement(b.a,{style:{padding:"5em 1em"},vertical:!0},r.a.createElement(I.a,{horizontal:!0},"Query Status"),r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Select a Data Schema"),r.a.createElement(J.a,{placeholder:"Select data schema",scrolling:!0,clearable:!0,fluid:!0,selection:!0,search:!0,noResultsMessage:"Try a different Search",multiple:!1,options:a.map(function(e){return{key:e.id,text:e.name,value:e.name}}),header:"PLEASE SELECT A DATASCHEMA",value:l,onChange:this.handleSchemaChange,required:!0})),r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Select a Query Schema"),r.a.createElement(J.a,{placeholder:"Select query schema",scrolling:!0,clearable:!0,fluid:!0,selection:!0,search:!0,noResultsMessage:"Try a different Search",multiple:!1,options:n.map(function(e){return{key:e.id,text:e.name,value:e.name}}),header:"PLEASE SELECT A QUERYSCHEMA",value:c,onChange:this.handleQuerySchemaChange,required:!0})))),r.a.createElement(I.a,{horizontal:!0},"QUERIES TABLE"),r.a.createElement(Y.a,{sortable:!0,compact:!0,celled:!0},r.a.createElement(Y.a.Header,null,r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.HeaderCell,{sorted:"name"===o?i:null,onClick:this.handleSort("name")},"Query Name"),r.a.createElement(Y.a.HeaderCell,{sorted:"id"===o?i:null,onClick:this.handleSort("id")},"Query Id"),r.a.createElement(Y.a.HeaderCell,{sorted:"selfUri"===o?i:null,onClick:this.handleSort("selfUri")},"SelfUri"),r.a.createElement(Y.a.HeaderCell,{sorted:"status"===o?i:null,onClick:this.handleSort("status")},"Status"),r.a.createElement(Y.a.HeaderCell,null,"Action"))),r.a.createElement(Y.a.Body,null,Object.values(s).map(function(t){var a=t.name,n=t.selfUri,l=t.status,c=t.id;return r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null,a),r.a.createElement(Y.a.Cell,null,c),r.a.createElement(Y.a.Cell,null,n),r.a.createElement(Y.a.Cell,null,l),r.a.createElement(Y.a.Cell,null,e.handleButtonView(l,n)))})))))),r.a.createElement(K,null))}}]),t}(r.a.Component),ye=Object(he.a)(Ee),ge=a(100),ve=a(159),Se=(a(437),a(127)),be=a.n(Se);a(151);a(127);var xe=[{text:"From Earliest",value:"fromEarliest",description:"All data on kafka topic"},{text:"From Latest Commit",value:"fromLatestCommit",description:"Any new data"},{text:"From Latest",value:"fromLatest",description:"Data from the last time the query was ran"}],Ce=[{text:"Save for Export",value:"saveForExport",description:"Schedule will not be exectued immediately"},{text:"Submit Online",value:"submitOnline",description:"Schedule will execute at given time"}],qe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={kafkaOffset:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.kafkaOffset,n=t.onKafkaOffsetSelectionChange,l=t.checked;return r.a.createElement("div",{className:"params-boxes"},r.a.createElement("div",null,r.a.createElement("label",null,"maxHitsPerSelector:"),r.a.createElement("input",{type:"number",name:"maxHitsPerSelector",value:this.state.maxHitsPerSelector,onChange:this.props.handleChange,placeholder:"10000",min:"1",step:"1",required:!0})),r.a.createElement("div",null,r.a.createElement("label",null,"Indefinite runTime:"),r.a.createElement("input",{type:"checkbox",name:"checked",checked:this.state.checked,onChange:function(t){return e.props.handleCheckboxChange(t.target.checked)}})),!l&&r.a.createElement("div",null,r.a.createElement("label",null,"runTimeSeconds:"),r.a.createElement("input",{type:"number",name:"runTimeSeconds",value:this.state.runTimeSeconds,onChange:this.props.handleChange,placeholder:"1",min:"1",step:"1",required:!0})),r.a.createElement("div",null,r.a.createElement("label",null,"windowLengthSeconds:"),r.a.createElement("input",{type:"number",name:"windowLengthSeconds",value:this.state.windowLengthSeconds,onChange:this.props.handleChange,placeholder:"1",min:"1",step:"1",required:!0})),r.a.createElement("div",null,r.a.createElement("label",null,"kafka offset: "),r.a.createElement(J.a,{placeholder:"Select offset position",clearable:!0,fluid:!0,selection:!0,options:xe,header:"PLEASE SELECT A KAFKA START OFFSET POSITION",label:"kafkaOffset",onChange:n,value:a})))}}]),t}(r.a.Component),ke=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{classNam:"params-boxes"},r.a.createElement("div",null,r.a.createElement("label",null,"maxHitsPerSelector:"),r.a.createElement("input",{type:"number",name:"maxHitsPerSelector",value:this.state.maxHitsPerSelector,onChange:this.props.handleChange,placeholder:"10000",min:"1",step:"1",required:!0})))}}]),t}(r.a.Component),we=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).getQueryData=Object(_.a)(W.a.mark(function e(){var t,n,r,l,c,s,o,i,u,m;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("querySelfUri"),e.prev=1,e.next=4,se()({method:"get",url:t,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 4:n=e.sent,r=n.data,console.log("Data from first call ---\x3e",r),l=r.data,s=(c=r).included.filter(function(e){return"DataSchema"===e.type}),o=s.map(function(e){return e.dataSourcesUri}),i=s.map(function(e){return e.name}),u=c.included.filter(function(e){return"QuerySchema"===e.type}),m=u.map(function(e){return e.name}),a.setState({query:l,queryName:l.name,dataSourcesUri:o,dataSchemaName:i,querySchemaName:m,schedulesUri:l.schedulesUri},function(){console.log("Query name ---\x3e ",a.state.queryName),console.log("Datasources Uri ---\x3e ",a.state.dataSourceUri),console.log("Dataschema name ---\x3e ",a.state.dataSchemaName),console.log("Queryschema name ---\x3e",a.state.querySchemaName),console.log("SchedulesUri ---\x3e ",a.state.schedulesUri)}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error(Error("Error getting query data: ".concat(e.t0.message)));case 20:case"end":return e.stop()}},e,null,[[1,17]])})),a.getDataSources=Object(_.a)(W.a.mark(function e(){var t,n,r,l;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.dataSourcesUri,console.log("DataSourcesUri for next request ---\x3e ",t),e.prev=2,e.next=5,se()({method:"get",url:t[0],headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 5:n=e.sent,r=n.data,l=r.data,a.setState({datasources:l}),console.log("datasources ---\x3e",l),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(Error("Error get data sources: ".concat(e.t0.message)));case 15:case"end":return e.stop()}},e,null,[[2,12]])})),a.handleChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value)),console.log([e.target.name])},a.dataSourceChange=function(){var e=Object(_.a)(W.a.mark(function e(t,n){var r,l,c,s,o,i,u,m;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.value,a.setState({dataSourceName:r},function(){console.log("Chosen data source name ---\x3e ",a.state.dataSourceName)}),!(l=a.state.datasources.find(function(e){return e.name===r}))){e.next=23;break}return c=l.id,s=l.name,o=l.selfUri,a.setState({dataSourceId:c,dataSourceName:s,dataSourceSelfUri:o}),console.log("Requested datasource selfUri =",o),e.prev=7,e.next=10,se()({method:"get",url:o,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 10:i=e.sent,u=i.data,console.log("Specific datasource data ---\x3e",u),m=u.data,a.setState({datasource:m,processingMode:m.processingMode,description:m.description}),console.log("datasource ---\x3e",m),console.log("processingMode ---\x3e ",a.state.processingMode),console.log("description ----\x3e",a.state.description),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(7),console.error(Error("Error getting data source data: ".concat(e.t0.message)));case 23:case"end":return e.stop()}},e,null,[[7,20]])}));return function(t,a){return e.apply(this,arguments)}}(),a.dateChange=function(e){return a.setState({date:e})},a.handleChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value)),console.log([e.target.value])},a.handleKafkaOffsetSelectionChange=function(e,t){console.log(t.value),a.setState({kafkaOffset:t.value},function(){console.log(a.state.kafkaOffset)})},a.handleSubmissionValue=function(e,t){var n=t.value;a.setState({submissionValue:n},function(){console.log("Submission value ---\x3e ",a.state.submissionValue)})},a.handleSubmit=function(){var e=a.state,t=e.processingMode,n=e.date,r=e.maxHitsPerSelector,l=e.dataSourceId,c=e.dataSourceSelfUri,s=e.windowLengthSeconds,o=e.kafkaOffset,i=e.checked,u=e.runTimeSeconds,m=e.schedulesUri;"Batch"===t?(console.log("---------------------------------------------"),console.log("Schedule posting to ---\x3e",m),console.log("---------------------------------------------"),se()({method:"post",url:m,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1","Content-Type":"application/json"},data:JSON.stringify({startTime:n,parameters:{maxHitsPerSelector:r},dataSource:{id:l,selfUri:c}})}).then(function(e){console.log(e)}).catch(function(e){return console.log(e.response)}),a.props.history.push("/querystatus")):(console.log("--------------------------------------------------------"),console.log("Schedule posted to ---\x3e",m),console.log("--------------------------------------------------------"),se()({method:"post",url:m,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1","Content-Type":"application/json"},data:JSON.stringify({startTime:n,parameters:{maxHitsPerSelector:r,"stream.window.length.seconds":s,"kafka.start.offset":o,"stream.runtime.seconds":i?void 0:u},dataSource:{id:l,selfUri:c}})}).then(function(e){console.log(e)}).catch(function(e){return console.log(e.response)}),a.props.history.push("/querystatus"))},a.handleSave=function(e){var t=a.state,n=t.maxHitsPerSelector,r=t.date,l=t.dataSourceId,c=t.dataSourceSelfUri,s=t.schedulesUri;se()({method:"post",url:s,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1","Content-Type":"application/json"},data:JSON.stringify({startTime:r,parameters:{maxHitsPerSelector:n},dataSource:{id:l,selfUri:c}})}).then(function(e){console.log(e)}).catch(function(e){return console.log(e.response)})},a.state={query:[],queryName:"",querySchemaName:"",datasources:[],dataSourceName:"",dataSourcesUri:"",processingMode:"",description:"",kafkaOffset:"",maxHitsPerSelector:1e4,windowLengthSeconds:1,runTimeSeconds:1,submissionValue:"",checked:!1,date:new Date},a.handleSubmit=a.handleSubmit.bind(Object(ge.a)(a)),a.handleKafkaOffsetSelectionChange=a.handleKafkaOffsetSelectionChange.bind(Object(ge.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(W.a.mark(function e(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getQueryData();case 2:return e.next=4,this.getDataSources();case 4:return e.next=6,this.dataSourceChange();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.queryName,n=t.dataSchemaName,l=(t.dataSourceDescription,t.dataSourceName),c=t.processingMode,s=t.querySchemaName,o=t.datasources,i=t.kafkaOffset,u=t.submissionValue,m=this.props,d=(m.match,m.location,m.histoy,be.a.moment().subtract(1,"day"));return r.a.createElement("div",{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},r.a.createElement(ae,null),r.a.createElement("div",{style:{flex:1}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flex:"1"}},r.a.createElement("div",{style:{width:"900px"}},r.a.createElement(X.a,{onSubmit:this.handleSubmit},r.a.createElement(b.a,{style:{padding:"5em 1em"},vertical:!0},r.a.createElement(I.a,{horizontal:!0},"Query Schedule Creation"),r.a.createElement(X.a.Field,null,r.a.createElement("label",null,"Query being used to create this schedule"),r.a.createElement(G.a,{fluid:!0,readOnly:!0,multiple:!1,value:a})),r.a.createElement(X.a.Field,null,r.a.createElement("label",null," ","The query was created using this dataSchema:"," "),r.a.createElement(G.a,{fluid:!0,readOnly:!0,value:n})),r.a.createElement(X.a.Field,null,r.a.createElement("label",null," Name of Query Schema: "),r.a.createElement(G.a,{fluid:!0,readOnly:!0,value:s})),r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Choose a datasource:"),r.a.createElement(J.a,{placeholder:"Choose a datasource",scrolling:!0,clearable:!0,fluid:!0,selection:!0,search:!0,noResultsMessage:"Search again",multiple:!1,options:o.map(function(e){return{key:e.id,text:e.name,value:e.name}}),header:"SELECT A DATASOURCE",value:l,onChange:this.dataSourceChange})),r.a.createElement(X.a.Field,null,r.a.createElement("label",null," ProcessingMode of Data Source: "),r.a.createElement(G.a,{value:c,onChange:this.handleChange,readOnly:!0}))),c&&r.a.createElement(b.a,{style:{padding:"5em 1em"},vertical:!0},r.a.createElement(I.a,{horizontal:!0},"Parameters"),c&&"Batch"===c?r.a.createElement(ke,{handleChange:this.handleChange}):c&&"Streaming"===c?r.a.createElement(qe,{onKafkaOffsetSelectionChange:this.handleKafkaOffsetSelectionChange,kafkaOffset:i,checked:this.state.checked,handleChange:this.handleChange,handleCheckboxChange:function(t){return e.setState({checked:t})}}):null),r.a.createElement(b.a,{style:{padding:"5em 1em"},vertical:!0},r.a.createElement(I.a,{horizontal:!0},"Choose a Date "),r.a.createElement(x.a,{style:{width:"255px"}},r.a.createElement("div",null,r.a.createElement(be.a,{onChange:this.dateChange,value:this.state.date,input:!1,isValidDate:function(e){return e.isAfter(d)},open:!0,utc:!1,onClickDay:function(e){return alert("day"+e+"clicked")}})))),r.a.createElement(b.a,{style:{padding:"5em 1em"},vertical:!0},r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Choose how to submit:"),r.a.createElement(J.a,{scrolling:!0,placeholder:"Save for Export or Submit Online",value:u,fluid:!0,selection:!0,multiple:!1,search:!0,noResultsMessage:"Save for Export or Submit Online",options:Ce,onChange:this.handleSubmissionValue,required:!0})),r.a.createElement(X.a.Button,{positive:!0,fluid:!0,content:"Submit Schedule",style:{marginTop:"50px"}})))))),r.a.createElement(K,null))}}]),t}(r.a.Component),Oe=Object(ve.a)(we),je=a(128),Ue=a(129),Te=a.n(Ue),Ie=a(58),Ae=a.n(Ie),Ne=function(e){return e.reduce(function(e,t){var a=Object(je.a)(t,2),n=a[0],r=a[1];return e[n]=r,e},{})},Qe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).getResultsList=Object(_.a)(W.a.mark(function e(){var t,n,r,l;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("resultsUri"),console.log("Initial vlaue for resultsUri in getResultsList: ",t),e.next=5,se()({method:"get",url:"".concat(t),headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 5:n=e.sent,r=n.data,console.log("data.data",r.data),l=r.data,a.setState({results:l}),console.log("This is the list of results from getResultsList: ",l),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(Error("Error fetching results list: ".concat(e.t0.message)));case 16:case"end":return e.stop()}},e,null,[[0,13]])})),a.getResultsData=Object(_.a)(W.a.mark(function e(){var t,n,r,l,c,s,o;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.results,console.log("-----------------------------------------------------------"),console.log("These are the results list inside getResultsData: ",t),console.log("-----------------------------------------------------------"),n=function(e){var t=e.id,a=e.selfUri;return se()({method:"get",url:a,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}}).then(function(e){var a=e.data;return[[t],a.data.retrievalsUri]})},r=function(e){var t=e.id,a=e.selfUri;return se()({method:"get",url:a,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}}).then(function(e){var a=e.data;return[[t],a.data]})},e.prev=6,e.next=9,Promise.all(t.map(n));case 9:return l=e.sent,e.next=12,Promise.all(t.map(r));case 12:c=e.sent,s=Ne(l),o=Ne(c),console.log("These are the retrievalUri's from each result",s),console.log("These are the objects returned from resultSelfUri requests",o),a.setState({retrievalUris:s,resultObjects:o}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),console.error(e.t0);case 23:case"end":return e.stop()}},e,null,[[6,20]])})),a.getDecryptionUris=function(){var e=Object(_.a)(W.a.mark(function e(t){var n,r,l,c,s,o;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.retrievalUris[t],console.log("Getting ".concat(a.state.retrievalUris[t])),e.prev=2,e.next=5,se()({method:"get",url:n,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 5:return r=e.sent,l=r.data,c=l.data[0].decryptionsUri,console.log("decryptionsUri is -----\x3e",c),a.setState(function(e){return e.decryptionUris[t]=c,{decryptionUris:e.decryptionUris}},function(){console.log("prevState call back",a.decryptionUris)}),Te.a.setItem("decryptionUriStore",a.state.decryptionUris).then(function(e){console.log("Store in getDecryptionUris() ",e)}).catch(function(e){console.error("Error setting object to localforage ---\x3e ",e)}),console.log("State after localforage ",a.state),console.log("Decrypting: ",c),e.next=15,se()({method:"post",url:c,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 15:s=e.sent,o=s.data.data,console.log("Decryption response --\x3e",o),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),console.error("getDecryptionUris error",e.t0);case 23:case"end":return e.stop()}},e,null,[[2,20]])}));return function(t){return e.apply(this,arguments)}}(),a.sendRetrieval=function(){var e=Object(_.a)(W.a.mark(function e(t){var n,r,l,c;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.retrievalUris[t],console.log("Posting to ".concat(n)),e.prev=2,e.next=5,se()({method:"post",url:n,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 5:r=e.sent,l=r.data,c=l.data.decryptionsUri,console.log("decryptionsUri is: ",c),console.log(a.state),a.setState(function(e){return e.decryptionUris[t]=c,{decryptionUris:e.decryptionUris}}),Te.a.setItem("decryptionUriStore",a.state.decryptionUris).then(function(e){console.log("Response in sendRetrieval of the store ---\x3e>",e)}).catch(function(e){return console.log("SendRetrieval localforage error",e)}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0);case 17:case"end":return e.stop()}},e,null,[[2,14]])}));return function(t){return e.apply(this,arguments)}}(),a.sendDecryption=function(e){var t=a.state.decryptionUris[e];console.log(t),se()({method:"post",url:t,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}})},a.handleSort=function(e){return function(){var t=a.state,n=t.column,r=t.queries,l=t.direction;n===e?a.setState({data:r.reverse(),direction:"ascending"===l?"descending":"ascending"}):a.setState({column:e,data:fe.a.sortBy(r,[e]),direction:"ascending"})}},a.renderButtonView=function(e,t){var n=a.state.results[e].id;a.state.retrievalUris[n],a.state.decryptionUris[n];switch(t){case"Ready":return r.a.createElement("button",{onClick:function(){return a.sendRetrieval(n)},type:"button"},"DOWNLOAD");case"Downloading":return r.a.createElement("button",null," DOWNLOADING ... ");case"Downloaded":return r.a.createElement("button",{onClick:function(){return a.getDecryptionUris(n)},type:"button"},"DECRYPT");case"Decrypting":return r.a.createElement("button",null," DECRYPTING ...");case"InProgress":return r.a.createElement("button",null," INPROGRESS");case"Decrypted":return r.a.createElement("button",null," DECRYPTED ");default:return null}},a.state={results:[],retrievalUris:{},decryptionUris:{},column:null,direction:null},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(W.a.mark(function e(){var t=this;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Te.a.getItem("decryptionUriStore").then(function(e){console.log("localforage store in cDM ---\x3e ",e),t.setState({decryptionUris:e||{}})}).catch(function(e){return console.log("Error getting store from localforage ---\x3e",e)}),e.next=3,this.getResultsList();case 3:return e.next=5,this.getResultsData();case 5:this.interval=setInterval(function(){return t.getResultsList()},8e3);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this,t=this.state,a=t.results,n=t.direction,l=t.column,c=this.props;c.match,c.location,c.history;return r.a.createElement("div",{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},r.a.createElement(ae,null),r.a.createElement("div",{style:{flex:1}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flex:"1"}},r.a.createElement("div",{style:{width:"1100px"}},r.a.createElement(b.a,{style:{padding:"5em 1em"}},r.a.createElement(I.a,{horizontal:!0},"Retrievals & Results"),r.a.createElement(Y.a,{sortable:!0,compact:!0,celled:!0},r.a.createElement(Y.a.Header,null,r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.HeaderCell,{sorted:"id"===l?n:null,onClick:this.handleSort("id")},"Query Id"),r.a.createElement(Y.a.HeaderCell,{sorted:"start"===l?n:null,onClick:this.handleSort("start")},"Start"),r.a.createElement(Y.a.HeaderCell,{sorted:"end"===l?n:null,onClick:this.handleSort("end")},"End"),r.a.createElement(Y.a.HeaderCell,null,"Type"),r.a.createElement(Y.a.HeaderCell,{sorted:"status"===l?n:null,onClick:this.handleSort("status")},"Status"),r.a.createElement(Y.a.HeaderCell,null,"Action"))),r.a.createElement(Y.a.Body,null,Object.values(a).map(function(t,a){var n=t.id,l=t.type,c=t.windowStartTime,s=t.windowEndTime,o=t.status;return r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null,n),r.a.createElement(Y.a.Cell,null,Ae()(c,"MMMM Do YYYY, h:mm:ss A")),r.a.createElement(Y.a.Cell,null,Ae()(s,"MMMM Do YYYY, h:mm:ss A")),r.a.createElement(Y.a.Cell,null,l),r.a.createElement(Y.a.Cell,null,o),r.a.createElement(Y.a.Cell,null,e.renderButtonView(a,o)))}))))))),r.a.createElement(K,null))}}]),t}(r.a.Component),De=Object(he.a)(Qe),Re=a(484),He=function(e){return e.reduce(function(e,t){var a=Object(je.a)(t,2),n=a[0],r=a[1];return e[n]=r,e},{})},Le=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).getSchedulesList=Object(_.a)(W.a.mark(function e(){var t,n,r,l,c;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("querySelfUri"),e.prev=1,e.next=4,se()({method:"get",url:t,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 4:return n=e.sent,console.log("data from querySelfUri request",n),r=n.data.data,console.log("querySelfUriResponse ---\x3e",r),a.setState({querySchedulesUri:r.schedulesUri,queryName:r.name},function(){console.log(a.state.querySchedulesUri),console.log(a.state.queryName)}),e.next=11,se()({method:"get",url:a.state.querySchedulesUri,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 11:l=e.sent,console.log("data from querySchedulesUri request",l),c=l.data.data,a.setState({schedules:c}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("Error getting querySelfUri",e.t0);case 20:case"end":return e.stop()}},e,null,[[1,17]])})),a.getScheduleResultUris=Object(_.a)(W.a.mark(function e(){var t,n,r,l;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.schedules,console.log("Schedules inside getScheduleResultUris()",t),n=function(e){var t=e.id,a=e.selfUri;return se()({method:"get",url:a,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}}).then(function(e){var a=e.data;return[[t],a.data.resultsUri]})},e.prev=3,e.next=6,Promise.all(t.map(n));case 6:r=e.sent,console.log("resultUriList ---\x3e",r),l=He(r),console.log("These are the resultUris from each schedule: ",l),a.setState({resultUris:l}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error getting each schedule and setting the resultUri",e.t0);case 16:case"end":return e.stop()}},e,null,[[3,13]])})),a.getDataSourceNames=Object(_.a)(W.a.mark(function e(){var t;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state.schedules,console.log("Schedules data inside getDataSourceNames()",t);try{Promise.all(t.map(function(e){return se()({method:"get",url:e.selfUri,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}})})).then(function(e){console.log(e);var t=e.flatMap(function(e,t){return e.data.included.reduce(function(e,t){var a=t.type,n=t.name;return"DataSource"===a&&e.push(n),e},[])});console.log(t),a.setState(function(e){return{schedules:e.schedules.map(function(e,a){return Object(P.a)({},e,{dataSourceNames:t})})}})})}catch(n){console.error("Error getting data source names",n)}case 3:case"end":return e.stop()}},e)})),a.getResultDetails=function(){var e=Object(_.a)(W.a.mark(function e(t){var n;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.resultUris[t],console.log("Load queryResults page with this resultsUri ".concat(n)),console.log("Setting ".concat(n," to localstorage item resultsUri ")),localStorage.setItem("resultsUri",n),a.props.history.push("/queryresults");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.renderButtonView=function(e,t){var n=a.state.schedules[e].id;a.state.resultUris[n];switch(t){case"Pending":return r.a.createElement("button",{className:"btnNoAction"}," PENDING ... ");case"InProgress":return r.a.createElement("button",null," IN PROGRESS ... ");case"Complete":return r.a.createElement("button",{onClick:function(){return a.getResultDetails(n)},type:"button"},"GET DETAILS");case"Failed":return r.a.createElement("button",null," FAILED ");default:return null}},a.handleSort=function(e){return function(){var t=a.state,n=t.column,r=t.queries,l=t.direction;n===e?a.setState({data:r.reverse(),direction:"ascending"===l?"descending":"ascending"}):a.setState({column:e,data:fe.a.sortBy(r,[e]),direction:"ascending"})}},a.state={schedules:[],dataSourceNames:[],resultUris:{},column:null,direciton:null,exportSlider:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(W.a.mark(function e(){var t=this;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSchedulesList();case 2:return e.next=4,this.getScheduleResultUris();case 4:return e.next=6,this.getDataSourceNames();case 6:this.interval=setInterval(function(){return t.getSchedulesList()},3e4);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this,t=this.state,a=t.schedules,n=t.column,l=t.direction,c=(t.dataSourceNames,t.queryName),s=this.props;s.match,s.location,s.history;return r.a.createElement("div",{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},r.a.createElement(ae,null),r.a.createElement("div",{style:{flex:1}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flex:"1"}},r.a.createElement("div",{style:{width:"1200px"}},r.a.createElement(b.a,{style:{padding:"5em 1em"},vertical:!0},r.a.createElement(Re.a,{header:"".concat(c," scheduled jobs"),content:"Schedules for ".concat(c," are shown below. Data Source names are displayed. Jobs may take a while to complete, this page automatically updates.")}),r.a.createElement(I.a,{style:{marginTop:"2em"},horizontal:!0},"Query Schedules Status"),r.a.createElement(Y.a,{sortable:!0,compact:!0,celled:!0},r.a.createElement(Y.a.Header,null,r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.HeaderCell,{sorted:"date"===n?l:null,onClick:this.handleSort("date")},"Date"),r.a.createElement(Y.a.HeaderCell,{sorted:"type"===n?l:null,onClick:this.handleSort("type")},"Type"),r.a.createElement(Y.a.HeaderCell,{sorted:"id"===n?l:null,onClick:this.handleSort("id")},"Schedule Id"),r.a.createElement(Y.a.HeaderCell,{sorted:"selfUri"===n?l:null,onClick:this.handleSort("selfUri")},"selfUri"),r.a.createElement(Y.a.HeaderCell,{sorted:"datasource"===n?l:null,onClick:this.handleSort("datasource")},"Data Source"),r.a.createElement(Y.a.HeaderCell,{sorted:"status"===n?l:null,onClick:this.handleSort("status")},"Status"),r.a.createElement(Y.a.HeaderCell,null,"Results"))),r.a.createElement(Y.a.Body,null,Object.values(a).map(function(t,a){var n=t.startTime,l=t.selfUri,c=t.type,s=t.status,o=t.id,i=t.dataSourceNames;t.index;return r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null," ",Ae()(n,"MMMM Do YYYY, h:mm:ss A")),r.a.createElement(Y.a.Cell,null,c),r.a.createElement(Y.a.Cell,null,o),r.a.createElement(Y.a.Cell,null,l),r.a.createElement(Y.a.Cell,null,i&&i[a]),r.a.createElement(Y.a.Cell,null,s),r.a.createElement(Y.a.Cell,null,e.renderButtonView(a,s)))}))))))),r.a.createElement(K,null))}}]),t}(r.a.Component),Fe=Object(he.a)(Le),Me=a(474);function ze(){var e=Object(f.a)(["\n  &&& {\n    background-color: gray;\n  }\n"]);return ze=function(){return e},e}var Pe=function(){return"undefined"===typeof window?S.a.onlyTablet.minWidth:window.innerWidth},Be=Object(v.a)(b.a)(ze()),Ve=function(e){var t=e.mobile;return r.a.createElement(x.a,{text:!0},r.a.createElement(C.a,{as:"h1",content:"Encrypted Query",inverted:!0,style:{fontSize:t?"2em":"4em",fontWeight:"normal",marginBottom:0,marginTop:t?"1.5em":"3em"}},r.a.createElement(q.a,{src:g.a,size:"massive",style:{width:"360px",height:"auto"}})),r.a.createElement(C.a,{as:"h2",content:"Encrypted Query",inverted:!0,style:{fontSize:t?"1.5em":"1.7em",fontWeight:"normal",marginTop:t?"0.5em":"1.5em"}}))},We=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},a.hideFixedMenu=function(){return a.setState({fixed:!1})},a.showFixedMenu=function(){return a.setState({fixed:!0})},a.handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,a=t.fixed,n=t.activeItem;return r.a.createElement(S.a,{getWidth:Pe,minWidth:S.a.onlyTablet.minWidth},r.a.createElement(Me.a,{once:!1,onBottomPassed:this.showFixedMenu,onBottomPassedReverse:this.hideFixedMenu},r.a.createElement(Be,{textAlign:"center",style:{minHeight:500,padding:"0em 0em"},vertical:!0},r.a.createElement(j.a,{fixed:a?"top":null,inverted:a,pointing:!a,secondary:!a,size:"large"},r.a.createElement(x.a,null,r.a.createElement(j.a.Item,{header:!0},"EnQuery"),r.a.createElement(j.a.Item,{className:"menu_color_white",as:E.a,to:"/",name:"home",active:"home"===n,onClick:this.handleItemClick},"Home"),r.a.createElement(j.a.Item,{as:E.a,className:"menu_color_white",to:"/createQuerySchema",name:"createQuerySchema",active:"createQuerySchema"===n,onClick:this.handleItemClick},"Create Query Schema"),r.a.createElement(j.a.Item,{as:E.a,className:"menu_color_white",to:"/createquery",name:"createQuery",active:"createQuery"===n,onClick:this.handleItemClick},"Create Query"),r.a.createElement(j.a.Item,{as:E.a,className:"menu_color_white",to:"/querystatus",name:"queryStatus",active:"queryStatus"===n,onClick:this.handleItemClick},"Query Status"),r.a.createElement(j.a.Menu,{position:"right"},r.a.createElement(j.a.Item,{className:"menu_color_white",position:"right",href:"https://github.com/En-Query/EncryptedQuery",target:"_blank"},r.a.createElement(w.a,{name:"github",size:"big"})),r.a.createElement(j.a.Item,{className:"menu_color_white",as:E.a,to:"/versions",name:"versions",active:"versions"===n,onClick:this.handleItemClick,position:"right",style:{textDecoration:"underline"}},"2.1.2"),r.a.createElement(j.a.Item,{className:"menu_color_white",as:E.a,to:"/offline",name:"offline",active:"offline"===n,onClick:this.handleItemClick,position:"right"},"Offline Mode")))),r.a.createElement(Ve,null))),e)}}]),t}(n.Component),_e=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleSidebarHide=function(){return a.setState({sidebarOpened:!1})},a.handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.handleToggle=function(){return a.setState({sidebarOpened:!0})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,a=t.sidebarOpened,n=t.activeItem;return r.a.createElement(S.a,{as:U.a.Pushable,getWidth:Pe,maxWidth:S.a.onlyMobile.maxWidth},r.a.createElement(U.a,{as:j.a,animation:"push",inverted:!0,onHide:this.handleSidebarHide,vertical:!0,visible:a},r.a.createElement(j.a.Item,{header:!0},"EnQuery"),r.a.createElement(j.a.Item,{as:E.a,to:"/",name:"home",active:"home"===n,onClick:this.handleItemClick},"Home"),r.a.createElement(j.a.Item,{as:E.a,to:"/createqueryschema",name:"createqueryschema",active:"createQuerySchema"===n,onClick:this.handleItemClick},"Create Query Schema"),r.a.createElement(j.a.Item,{as:E.a,to:"/createquery",name:"createQuery",active:"createQuery"===n,onClick:this.handleItemClick},"Create Query"),r.a.createElement(j.a.Item,{as:E.a,to:"/querystatus",name:"queryStatus",active:"queryStatus"===n,onClick:this.handleItemClick},"Query Status")),r.a.createElement(U.a.Pusher,{dimmed:a},r.a.createElement(b.a,{inverted:!0,textAlign:"center",style:{minHeight:350,padding:"1em 0em"},vertical:!0},r.a.createElement(x.a,null,r.a.createElement(j.a,{inverted:!0,pointing:!0,secondary:!0,size:"large"},r.a.createElement(j.a.Item,{onClick:this.handleToggle},r.a.createElement(w.a,{name:"sidebar"})))),r.a.createElement(Ve,{mobile:!0})),e))}}]),t}(n.Component),Ye=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(We,null,t)," ",r.a.createElement(_e,null,t))},Xe=function(){return r.a.createElement(Ye,null)},Ge=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("body",null,r.a.createElement("div",{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},r.a.createElement(Xe,null),r.a.createElement("div",{style:{flex:1}},r.a.createElement(Re.a,{header:"YIKES! This page does not exist! ",content:"Oops looks like this page does not exisit. Please use the menu above to reach your desired page."})),r.a.createElement(K,null)))}}]),t}(r.a.Component),Je=a(489),Ke=a(475),$e=a(487),Ze=a(476),et={scrolling:!0,clearable:!0,fluid:!0,selection:!0,search:!0,required:!0,multiple:!1,noResultsMessage:"Try a different Search"},tt=function(e){var t=e.dropdownOptionsDataSchema,a=e.dropdownOptionsQuerySchema,n=e.dropdownOptionsQuery;return r.a.createElement(Je.a.Pane,null,r.a.createElement(X.a,null,r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Select a Data Schema"),r.a.createElement(J.a,Object(P.a)({},et,t))),r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Select a Query Schema"),r.a.createElement(J.a,Object(P.a)({},et,a))),r.a.createElement(X.a.Field,{required:!0},r.a.createElement("label",null,"Select a Query"),r.a.createElement(J.a,Object(P.a)({},et,n)))))},at=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).slider=function(){a.setState({exportSlider:!a.state.exportSlider},function(){console.log("slider --\x3e ",a.state.exportSlider);var e=a.props,t=e.id,n=e.startTime,r=e.selfUri,l=e.status;(0,e.slide)({id:t,startTime:n,selfUri:r,status:l,isExported:a.state.exportSlider})})};var n=a.props.initialState;return a.state={exportSlider:n},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.startTime,n=e.selfUri,l=e.status;this.state.exportSlider;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a.Row,null,r.a.createElement(ne.a,{slider:!0,onChange:this.slider}),r.a.createElement(Y.a.Cell,null,t),r.a.createElement(Y.a.Cell,null,Ae()(a,"MMM Do YYYY, h:mm:ss A")),r.a.createElement(Y.a.Cell,null,n),r.a.createElement(Y.a.Cell,null,l)))}}]),t}(r.a.Component),nt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).getSchemas=Object(_.a)(W.a.mark(function e(){var t,n,r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se()({method:"get",url:"/querier/api/rest/dataschemas",headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 3:t=e.sent,n=t.data,console.log(n),r=n.data,a.setState({dataschemas:r,isLoading:!1}),console.log("This is the dataschema list:",r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(Error("Error fetching results list: ".concat(e.t0.message)));case 14:case"end":return e.stop()}},e,null,[[0,11]])})),a.handleSchemaChange=function(){var e=Object(_.a)(W.a.mark(function e(t,n){var r,l,c,s;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.value,a.setState({dataSchemaName:r},function(){console.log("Chosen dataSchema ---\x3e ",a.state.dataSchemaName)}),!(l=a.state.dataschemas.find(function(e){return e.name===r}))){e.next=17;break}return e.prev=4,e.next=7,se()({method:"get",url:l.selfUri,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 7:c=e.sent,s=c.data,console.log(s),a.setState({queryschemaUri:s.data.querySchemasUri}),console.log("queryschemaUri from dataschema change ---\x3e ",a.state.queryschemaUri),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(Error("Error fetching specific schema: ".concat(e.t0.message)));case 17:a.getQuerySchemas();case 18:case"end":return e.stop()}},e,null,[[4,14]])}));return function(t,a){return e.apply(this,arguments)}}(),a.getQuerySchemas=Object(_.a)(W.a.mark(function e(){var t,n,r,l;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.queryschemaUri,e.prev=1,e.next=4,se()({method:"get",url:t,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 4:n=e.sent,r=n.data,console.log("Data from queryschemaUri fetch ---\x3e",r),l=r.data,a.setState({queryschemas:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(Error("Error getting queryschemas: ".concat(e.t0.message)));case 14:case"end":return e.stop()}},e,null,[[1,11]])})),a.handleQuerySchemaChange=function(){var e=Object(_.a)(W.a.mark(function e(t,n){var r,l,c,s,o,i,u,m;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.value,a.setState({querySchemaName:r},function(){console.log("Chosen querySchema ---\x3e",a.state.querySchemaName)}),!(l=a.state.queryschemas.find(function(e){return e.name===r}))){e.next=21;break}return c=l.id,s=l.name,o=l.selfUri,a.setState({querySchemaId:c,querySchemaName:s,querySchemaSelfUri:o}),e.prev=6,e.next=9,se()({method:"get",url:o,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 9:i=e.sent,u=i.data,console.log("Specific querySchema data from selfUri request ---\x3e ",u),m=u.data,a.setState({queryschema:m,queriesUri:m.queriesUri}),console.log("queryschema ---\x3e ",m),console.log("queriesUri ---\x3e",a.state.queriesUri),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),console.error(Error("Error getting specific querySchema: ".concat(e.t0.nessage)));case 21:a.getQueryData();case 22:case"end":return e.stop()}},e,null,[[6,18]])}));return function(t,a){return e.apply(this,arguments)}}(),a.getQueryData=Object(_.a)(W.a.mark(function e(){var t,n,r,l;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.queriesUri,console.log("queriesUri inside getQueryData() ----\x3e",t),e.prev=2,e.next=5,se()({method:"get",url:t,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 5:n=e.sent,r=n.data,console.log("Data from get query ---\x3e",r),l=r.data,a.setState({queries:l}),console.log("Queries ----\x3e",l),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(Error("Error getting query data ".concat(e.t0.message)));case 16:case"end":return e.stop()}},e,null,[[2,13]])})),a.handleQueryChange=function(){var e=Object(_.a)(W.a.mark(function e(t,n){var r,l,c,s,o,i,u,m;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.value,a.setState({queryName:r},function(){console.log("Chosen query ---\x3e",a.state.queryName)}),!(l=a.state.queries.find(function(e){return e.name===r}))){e.next=21;break}return c=l.id,s=l.name,o=l.selfUri,a.setState({queryId:c,queryName:s,querySelfUri:o}),e.prev=6,e.next=9,se()({method:"get",url:o,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 9:i=e.sent,u=i.data,console.log("Specific query data ---\x3e",u),m=u.data,a.setState({query:m,schedulesUri:m.schedulesUri}),console.log("Data of selected query",m),console.log("schedulesUri ---\x3e",a.state.schedulesUri),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),console.error(Error("Error handling query dropdown change ".concat(e.t0.message)));case 21:a.getSchedules();case 22:case"end":return e.stop()}},e,null,[[6,18]])}));return function(t,a){return e.apply(this,arguments)}}(),a.getSchedules=Object(_.a)(W.a.mark(function e(){var t,n,r,l;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.schedulesUri,e.prev=1,e.next=4,se()({method:"get",url:t,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}});case 4:n=e.sent,r=n.data,l=r.data,console.log("Schedules ---\x3e ",l),a.setState({schedules:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(Error("Error getting schedules ".concat(e.t0.message)));case 14:case"end":return e.stop()}},e,null,[[1,11]])})),a.slider=function(e){var t=e.id,n=e.isExported,r=a.state.schedules.find(function(e){return Number(e.id)===Number(t)});if(!0===n)a.setState({schedulesToExport:Object(P.a)({},a.state.schedulesToExport,Object(z.a)({},t,Object(P.a)({},r)))});else{var l=a.state.schedulesToExport;delete l[t],a.setState({schedulesToExport:l},function(){console.log("Schedules to export --\x3e ",a.state.newSchedulesToExport)})}},a.onFormSubmit=function(e){e.preventDefault(),a.fileUpload(a.state.file)},a.fileChange=function(e){a.setState({file:e.target.files[0],fileName:e.target.files[0].name},function(){console.log("File chosen ---\x3e",a.state.file,console.log("File name  ---\x3e",a.state.fileName))})},a.fileUpload=function(e){var t=new FormData;t.append("file",e),se()({method:"put",url:"/querier/api/rest/offline/datasources",data:t,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}}).then(function(e){console.log(e),console.log(e.status),a.setState({statusCode:e.status},function(){console.log("Status code ---\x3e",a.state.statusCode)})}).catch(function(e){return console.log(e)})},a.resultUpload=function(e){var t=new FormData;t.append("file",e),se()({method:"put",url:"/querier/api/rest/offline/result",data:t,headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1"}}).then(function(e){console.log(e),console.log(e.status),a.setState({statusCode:e.status},function(){console.log("Status code ---\x3e",a.state.statusCode)})}).catch(function(e){return console.log(e)})},a.resultFormSubmit=function(e){e.preventDefault(),a.resultUpload(a.state.file)},a.exportSchedules=function(){var e=Object(_.a)(W.a.mark(function e(t){var n,r,l,c,s,o;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.schedulesToExport,e.prev=2,e.next=5,se()({method:"post",url:"/querier/api/rest/offline/executions",headers:{Accept:"application/vnd.encryptedquery.enclave+json; version=1","Content-Type":"application/vnd.encryptedquery.enclave+json; version=1"},data:JSON.stringify({scheduleIds:Object.keys(n).map(Number),type:"OfflineExecutionExportRequest"})});case 5:r=e.sent,l=r.data,console.log(l),c=l,console.log("One data response ---\x3e ",c),a.setState({scheduleDataToBeExported:c}),console.log(a.state.scheduleDataToBeExported),s=new Blob([a.state.scheduleDataToBeExported]),(o=document.createElement("a")).href=window.URL.createObjectURL(s),o.download="exportSchedules.xml",o.click(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),console.error(Error("Error exporting schedules ".concat(e.t0.message)));case 22:case"end":return e.stop()}},e,null,[[2,19]])}));return function(t){return e.apply(this,arguments)}}(),a.state={file:null,fileName:"",dataschemas:[],dataSchemaName:"",queryschemas:[],querySchemaName:"",queries:[],queryName:"",queriesUri:"",schedules:[],exportSlider:!1,scheduleIdsToExport:[],schedulesToExport:{}},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(W.a.mark(function e(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSchemas();case 2:return e.next=4,this.handleSchemaChange();case 4:return e.next=6,this.getQuerySchemas();case 6:return e.next=8,this.handleQuerySchemaChange();case 8:return e.next=10,this.getQueryData();case 10:return e.next=12,this.handleQueryChange();case 12:return e.next=14,this.getSchedules();case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.dataschemas,n=t.dataSchemaName,l=t.queryschemas,c=t.querySchemaName,s=t.queries,o=t.queryName,i=t.schedules,u=t.schedulesToExport,m=(t.fileName,t.statusCode),d=[{menuItem:"Import Datasource",render:function(){return r.a.createElement(Je.a.Pane,{attached:!1},r.a.createElement(Re.a,null,"The file picker below is used to import & upload the xml file that contains both the Datas Sources and Data Schemas."),r.a.createElement(X.a,{onSubmit:e.onFormSubmit},r.a.createElement(b.a,{style:{padding:"5em 1em"},vertical:!0},r.a.createElement(X.a.Field,null,r.a.createElement("label",null,"File input & upload "),r.a.createElement(k.a,{as:"label",htmlFor:"file",type:"button",animated:"fade"},r.a.createElement(k.a.Content,{visible:!0},r.a.createElement(w.a,{name:"file"})),r.a.createElement(k.a.Content,{hidden:!0},"Choose a File")),r.a.createElement("input",{type:"file",id:"file",hidden:!0,onChange:e.fileChange}),r.a.createElement(X.a.Input,{fluid:!0,label:"File Chosen: ",placeholder:"Use the above bar to browse your file system",readOnly:!0,value:e.state.fileName}),r.a.createElement(k.a,{style:{marginTop:"20px"},type:"submit"},"Upload"),m&&200===m?r.a.createElement(Ke.a,{style:{marginTop:"20px"},percent:100,success:!0,progress:!0},"File Upload Success"):m&&500===m?r.a.createElement(Ke.a,{style:{marginTop:"20px"},percent:100,error:!0,active:!0,progress:!0},"File Upload Failed"):null))))}},{menuItem:"Export Schedule(s)",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(tt,{dropdownOptionsDataSchema:{placeholder:"Select data schema",options:a.map(function(e){return{key:e.id,text:e.name,value:e.name}}),header:"PLEASE SELECT A DATASCHEMA",value:n,onChange:e.handleSchemaChange},dropdownOptionsQuerySchema:{placeholder:"Select query schema",options:l.map(function(e){return{key:e.id,text:e.name,value:e.name}}),header:"PLEASE SELECT A QUERYSCHEMA",value:c,onChange:e.handleQuerySchemaChange},dropdownOptionsQuery:{placeholder:" Select query ",options:s.map(function(e){return{key:e.id,text:e.name,value:e.name}}),header:"PLEASE SELECT A QUERYSCHEMA",value:o,onChange:e.handleQueryChange}}),r.a.createElement(Re.a,{attached:"bottom",warning:!0},r.a.createElement(w.a,{name:"help"}),"Don't see any Queries?\xa0",r.a.createElement(E.a,{to:"/createquery"},"Create one here"),"\xa0if you don't."),r.a.createElement(I.a,{style:{padding:"2em"},horizontal:!0},"Schedule(s) table"),r.a.createElement(b.a,null,r.a.createElement($e.a,{active:i&&i.length<1},r.a.createElement(Ze.a,{inverted:!0},"Waiting for Query selection ...")),r.a.createElement(Re.a,{attached:!0,header:"Exporting Schedule(s)",content:"To export 1-to-many schedules please click the slider next to each schedule."}),i&&r.a.createElement(Y.a,{celled:!0,compact:!0,definition:!0},r.a.createElement(Y.a.Header,{fullWidth:!0},r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.HeaderCell,null),r.a.createElement(Y.a.HeaderCell,null,"Id"),r.a.createElement(Y.a.HeaderCell,null,"Scheduled For"),r.a.createElement(Y.a.HeaderCell,null,"Self Uri"),r.a.createElement(Y.a.HeaderCell,null,"Status"))),r.a.createElement(Y.a.Body,null,Object.values(i).map(function(t){var a=t.id,n=t.startTime,l=t.selfUri,c=t.status;return r.a.createElement(at,{id:a,key:a,startTime:n,selfUri:l,status:c,initialState:Object.keys(u).includes(a),slide:e.slider.bind(e)})})),r.a.createElement(Y.a.Footer,{fullWidth:!0},r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.HeaderCell,null),r.a.createElement(Y.a.HeaderCell,{colSpan:"4"}," ",r.a.createElement(k.a,{floated:"right",icon:!0,labelPosition:"left",primary:!0,size:"small",onClick:e.getSchedules},r.a.createElement(w.a,{name:"refresh"})," Refresh Schedules")))))),r.a.createElement(I.a,{style:{padding:"2em"},horizontal:!0},"EXPORT SCHEDULE(S) TABLE"),r.a.createElement(b.a,null,r.a.createElement($e.a,{active:i&&i.length<1},r.a.createElement(Ze.a,{inverted:!0})),r.a.createElement(Re.a,null,"The schedules listed below will be exported upon button interaction"),i&&r.a.createElement(Y.a,{celled:!0,compact:!0,definition:!0},r.a.createElement(Y.a.Header,{fullWidth:!0},r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.HeaderCell,null,"Id"),r.a.createElement(Y.a.HeaderCell,null,"Scheduled For"),r.a.createElement(Y.a.HeaderCell,null,"Self Uri"),r.a.createElement(Y.a.HeaderCell,null,"Status"))),r.a.createElement(Y.a.Body,null,Object.keys(u).map(function(e){var t=u[e];return r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null,t.id),r.a.createElement(Y.a.Cell,null,Ae()(t.startTime,"MMM Do YYYY, h:mm:ss A")),r.a.createElement(Y.a.Cell,null,t.selfUri),r.a.createElement(Y.a.Cell,null,t.status))})),r.a.createElement(Y.a.Footer,{fullWidth:!0},r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.HeaderCell,{colSpan:"4"},r.a.createElement(k.a,{floated:"left",icon:!0,labelPosition:"left",primary:!0,size:"small",onClick:e.exportSchedules},r.a.createElement(w.a,{name:"send"}),"Export All")))))))}},{menuItem:"Import Results",render:function(){return r.a.createElement(Je.a.Pane,{attached:!1},r.a.createElement(Re.a,null,"Some message about importing results"),r.a.createElement(X.a,{onSubmit:e.resultFormSubmit},r.a.createElement(b.a,{style:{padding:"5em 1em"},vertical:!0},r.a.createElement(X.a.Field,null,r.a.createElement("label",null,"Result File Upload"),r.a.createElement(k.a,{as:"label",htmlFor:"file",type:"button",animated:"fade"},r.a.createElement(k.a.Content,{visible:!0},r.a.createElement(w.a,{name:"file"})),r.a.createElement(k.a.Content,{hidden:!0},"Choose a File")),r.a.createElement("input",{type:"file",id:"file",hidden:!0,onChange:e.fileChange}),r.a.createElement(X.a.Input,{fluid:!0,label:"File Chosen: ",placeholder:"Use the above bar to browse your file system",readOnly:!0,value:e.state.fileName}),r.a.createElement(k.a,{style:{marginTop:"20px"},type:"submit"},"Upload"),m&&200===m?r.a.createElement(Ke.a,{style:{marginTop:"20px"},percent:100,success:!0,progress:!0},"File Upload Success"):m&&500===m?r.a.createElement(Ke.a,{style:{marginTop:"20px"},percent:100,error:!0,active:!0,progress:!0},"File Upload Failed"):null))))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},r.a.createElement(ae,null),r.a.createElement("div",{style:{flex:1}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flex:"1"}},r.a.createElement("div",{style:{width:"1100px"}},r.a.createElement(b.a,{style:{padding:"5em 1em"},vertical:!0},r.a.createElement(I.a,{horizontal:!0},"OFFLINE USAGE"),r.a.createElement(Je.a,{menu:{pointing:!0},panes:d}))))),r.a.createElement(K,null)))}}]),t}(n.Component);var rt=function(){return r.a.createElement("div",null,r.a.createElement(ae,null),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement("div",{style:{width:"700px"}},r.a.createElement(C.a,{style:{padding:"30px 0",fontSize:"3rem",marginTop:"2em"}},"Encrypted Query Versions",r.a.createElement(C.a.Subheader,{style:{marginTop:"20px",fontSize:"1rem"}},"This product is still in its early stages so new versions are released often. Sometimes minor changes, sometimes very major changes. Please check the docs/release notes of the latest versioning before using")),r.a.createElement(Y.a,{style:{marginTop:"50px"},celled:!0},r.a.createElement(Y.a.Header,null,r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.HeaderCell,{colSpan:"3",style:{fontSize:"1.5rem",paddingLeft:".4em"}},"Current Version (Stable)"))),r.a.createElement(Y.a.Body,null,r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null,"2.1.3"),r.a.createElement(Y.a.Cell,null,r.a.createElement("a",{href:"https://github.com/En-Query/EncryptedQuery/blob/master/Release-Notes.md#encrypted-query-v213---release-notes"},"Release Notes")),r.a.createElement(Y.a.Cell,null,r.a.createElement("a",{href:"#"},"Documentation"))))),r.a.createElement(Y.a,{celled:!0},r.a.createElement(Y.a.Header,null,r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.HeaderCell,{colSpan:"3",style:{fontSize:"1.5rem",paddingLeft:".4em"}},"Past Versions"))),r.a.createElement(Y.a.Body,null,r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null,"2.1.2"),r.a.createElement(Y.a.Cell,null,r.a.createElement("a",{href:"https://github.com/En-Query/EncryptedQuery/blob/master/Release-Notes.md#encrypted-query-v212---release-notes"},"Release Notes")),r.a.createElement(Y.a.Cell,null,r.a.createElement("a",{href:"#"},"Documentation"))),r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null,"2.1.1"),r.a.createElement(Y.a.Cell,null,r.a.createElement("a",{href:"https://github.com/En-Query/EncryptedQuery/blob/master/Release-Notes.md#changes-in-release-211"},"Release Notes")),r.a.createElement(Y.a.Cell,null,r.a.createElement("a",{href:"#"},"Documentation"))),r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null,"2.1.0"),r.a.createElement(Y.a.Cell,null,r.a.createElement("a",{href:"https://github.com/En-Query/EncryptedQuery/blob/master/Release-Notes.md#new-with-release-210"},"Release Notes")),r.a.createElement(Y.a.Cell,null,r.a.createElement("a",{href:"#"},"Documentation"))),r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null,"2.0.1"),r.a.createElement(Y.a.Cell,null,r.a.createElement("a",{href:"https://github.com/En-Query/EncryptedQuery/blob/master/Release-Notes.md#release-201-snapshot"},"Release Notes")),r.a.createElement(Y.a.Cell,null,r.a.createElement("a",{href:"#"},"Documentation"))),r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null,"1"),r.a.createElement(Y.a.Cell,null,r.a.createElement("a",{href:"#"},"Release Notes")),r.a.createElement(Y.a.Cell,null,r.a.createElement("a",{href:"#"},"Documentation"))))))))},lt=a(130),ct=a(477),st=a(39);function ot(){var e=Object(f.a)(["\n  text-decoration: none;\n\n  &:focus,\n  &:hover,\n  &:visited,\n  &:link,\n  &:active {\n    text-decoration: none;\n  }\n"]);return ot=function(){return e},e}var it=Object(v.a)(st.HashLink)(ot()),ut=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{style:{padding:"10px 0",fontSize:"2rem"}},"Overview"),r.a.createElement("p",{style:{marginTop:"5px",fontSize:"1rem"}},"This product is still in its early stages so new versions are released often. Sometimes minor changes, sometimes very major changes."),r.a.createElement("p",{style:{fontSize:"1.2em"}},r.a.createElement("b",null,"Please check the docs/release notes of the latest version(s) before using this product.")),r.a.createElement(A.a,{ordered:!0,style:{marginTop:"20px"}},r.a.createElement(A.a.Item,null,r.a.createElement(st.HashLink,{activeStyle:{color:"red"},to:"overview#create-query-schema"},"Create Query Schema")),r.a.createElement(A.a.Item,null,r.a.createElement(st.HashLink,{to:"overview#create-query"},"Create Query")),r.a.createElement(A.a.Item,null,r.a.createElement(st.HashLink,{to:"overview#query-status"},"Query Status"),r.a.createElement(A.a.List,null,r.a.createElement(A.a.Item,null,r.a.createElement(st.HashLink,{to:"overview#schedule-query"},"Schedule Query")),r.a.createElement(A.a.Item,null,"View Schedules"),r.a.createElement(A.a.Item,null,"View Results"))),r.a.createElement(A.a.Item,null,r.a.createElement(st.HashLink,{to:"overview#offline"},"Offline Mode"))),r.a.createElement(C.a,{id:"motivation",style:{padding:"10px 0",fontSize:"2rem"}},"Motivation"),r.a.createElement("p",{style:{fontSize:"1rem"}},"Encrypted Query is designed to allow a user to query a remote database without revealing the contents of the query or the results from the database server. This is accomplished using techniques from Private Information Retrieval (PIR) with Paillier encryption."," "),r.a.createElement("p",{style:{fontSize:"1em"}},"Encrypted Query has two distinct sides - the Querier and the Responder.",r.a.createElement(A.a,{animated:!0,bulleted:!0,style:{padding:"20px"}},r.a.createElement(A.a.Item,null,"The Querier prepares encrypted queries which are then submitted to the Responder."),r.a.createElement(A.a.Item,null,"The Responder accepts encrypted queries and executes them on selected data sources without revealing the criteria contained in the query, or the data that is returned.")),"All records of the selected data source are scanned during query execution."),r.a.createElement(C.a,{id:"create-query-schema",style:{padding:"30px 0",fontSize:"2rem"}},"Create Query Schema",r.a.createElement(C.a.Subheader,{style:{fontSize:"1.2rem"}},"BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH BLAH")),r.a.createElement(C.a,{id:"create-query",style:{fontSize:"2rem"}},"Create Query",r.a.createElement(C.a.Subheader,{style:{fontSize:"1.2rem"}}," ","RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT RANDOM TEXT"," ")),r.a.createElement(C.a,{id:"query-status",style:{fontSize:"2rem"}},"Query Status"),r.a.createElement("p",{style:{fontSize:"1.2rem"}},"some information on query schema process"),r.a.createElement(C.a,{id:"schedule-query",style:{fontSize:"2rem"}},"Schedule Query",r.a.createElement(C.a.Subheader,{style:{fontSize:"1.2rem"}})),r.a.createElement(C.a,{id:"query-schedules-status",style:{fontSize:"2rem"}},"Query Schedules Status",r.a.createElement(C.a.Subheader,{style:{fontSize:"1rem"}})),r.a.createElement(C.a,{id:"query-results",style:{fontSize:"2rem"}},"Query Results",r.a.createElement(C.a.Subheader,{style:{fontSize:"1rem"}})),r.a.createElement(C.a,{id:"offline-mode",style:{fontSize:"2rem"}},"Offline Mode",r.a.createElement(C.a.Subheader,{style:{fontSize:"1rem"}})))},mt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).contextRef=Object(n.createRef)(),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},r.a.createElement(ae,null),r.a.createElement("div",{style:{flex:1}},r.a.createElement(T.a,{centered:!0,columns:3,style:{marginTop:"3em"}},r.a.createElement(T.a.Column,null,r.a.createElement(lt.a,{innerRef:this.contextRef},r.a.createElement(x.a,null,r.a.createElement(ut,null),r.a.createElement(ct.a,{position:"left"},r.a.createElement(O.a,{offset:90,context:this.contextRef},r.a.createElement(C.a,{as:"h3"},"Getting Started"),r.a.createElement(A.a,{style:{padding:"5px"}},r.a.createElement(A.a.Item,null,"Overview"),r.a.createElement(A.a.Item,null,"Examples"),r.a.createElement(A.a.Item,null,"Tutorial")),r.a.createElement(C.a,{as:"h3"},"End to End Query Creation"),r.a.createElement(A.a,{style:{padding:"5px"}},r.a.createElement(A.a.Item,null,r.a.createElement("a",{href:"#createqueryschema"},"Create Query Schema")),r.a.createElement(A.a.Item,null,r.a.createElement("a",{href:"#createquery"},"Create Query")),r.a.createElement(A.a.Item,null,r.a.createElement("a",{href:"#querystatus"},"Query Status"))),r.a.createElement(C.a,{as:"h3"},"How To"),r.a.createElement(A.a,{style:{padding:"5px"}},r.a.createElement(A.a.Item,null,r.a.createElement("a",{target:"_blank",href:"https://github.com/En-Query/EncryptedQuery/blob/master/doc/Building-README.md#building-the-project"},"Building")),r.a.createElement(A.a.Item,null,"Standalone"),r.a.createElement(A.a.Item,null,"Deployment")),r.a.createElement(C.a,{as:"h3"},"Development"),r.a.createElement(A.a,{style:{padding:"5px"}},r.a.createElement(A.a.Item,null,"Road Map"),r.a.createElement(A.a.Item,null,"Upcoming Features")))),r.a.createElement(ct.a,{position:"right"},r.a.createElement(O.a,{offset:90,context:this.contextRef},r.a.createElement(A.a,{style:{padding:"5px"}},r.a.createElement(A.a.Item,null,r.a.createElement(st.HashLink,{smooth:!0,to:"overview#motivation"},"Motivation")),r.a.createElement(A.a.Item,null,r.a.createElement(it,{smooth:!0,to:"overview#create-query-schema"},"Create Query Schema")),r.a.createElement(A.a.Item,null,r.a.createElement(st.HashLink,{smooth:!0,to:"overview#create-query"},"Create Query")),r.a.createElement(A.a.Item,null,r.a.createElement(st.HashLink,{smooth:!0,to:"overview#query-status"},"Query Status"),r.a.createElement(A.a.List,null,r.a.createElement(A.a.Item,null,r.a.createElement(st.HashLink,{to:"overview#schedule-query"},"Schedule Query")),r.a.createElement(A.a.Item,null,r.a.createElement(st.HashLink,{smooth:!0,to:"overview#query-schedules-status"},"Query Schedules Status")),r.a.createElement(A.a.Item,null,r.a.createElement(st.HashLink,{smooth:!0,to:"overview#query-results"},"Query Results")))),r.a.createElement(A.a.Item,null,r.a.createElement(st.HashLink,{smooth:!0,to:"overview#offline-mode"},"Offline Mode")))))))))),r.a.createElement(K,null))}}]),t}(n.Component),dt=function(){return r.a.createElement(s.a,null,r.a.createElement(o.a,null,r.a.createElement(i.a,{path:"/",component:M,exact:!0}),r.a.createElement(i.a,{path:"/createqueryschema",component:oe,exact:!0}),r.a.createElement(i.a,{path:"/createquery",component:de,exact:!0}),r.a.createElement(i.a,{path:"/querystatus",component:ye,exact:!0}),r.a.createElement(i.a,{path:"/schedulequery",component:Oe,exact:!0}),r.a.createElement(i.a,{path:"/queryschedulesstatus",component:Fe,exact:!0}),r.a.createElement(i.a,{path:"/queryresults",component:De,exact:!0}),r.a.createElement(i.a,{path:"/offline",component:nt,exact:!0}),r.a.createElement(i.a,{path:"/versions",component:rt,exact:!0}),r.a.createElement(i.a,{path:"/overview",component:mt}),r.a.createElement(i.a,{component:Ge})))},ht=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(function(){return r.a.createElement(dt,null)},null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");ht?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):pt(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):pt(e)})}}()}},[[265,1,2]]]);
//# sourceMappingURL=main.62f08c92.chunk.js.map