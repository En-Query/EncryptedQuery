<?xml version="1.0" encoding="UTF-8"?>
<scr:component xmlns:scr="http://www.osgi.org/xmlns/scr/v1.3.0" name="org.enquery.encryptedquery.querier.data.service.impl.QueryRepositoryImpl">
  <implementation class="org.enquery.encryptedquery.querier.data.service.impl.QueryRepositoryImpl"/>
  <service>
    <provide interface="org.enquery.encryptedquery.querier.data.service.QueryRepository"/>
  </service>
  <reference name="blobRepo" interface="org.enquery.encryptedquery.querier.data.service.BlobRepository" field="blobRepo"/>
  <reference name="jpa" interface="org.apache.aries.jpa.template.JpaTemplate" target="(osgi.unit.name=querierPersistenUnit)" field="jpa"/>
  <reference name="queryKeysRegistry" interface="org.enquery.encryptedquery.querier.data.service.ResourceUriRegistry" target="(type=query-key)" field="queryKeysRegistry"/>
  <reference name="queryLocation" interface="org.enquery.encryptedquery.querier.data.service.ResourceUriRegistry" target="(type=blob)" field="queryLocation"/>
</scr:component>
