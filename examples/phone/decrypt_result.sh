# *******************
# This script will decrypt the result set generated by the responder and
# place the results in the output file designated by the -o parameter
#
#*************************************
#!/bin/bash

die () {
  echo >&2 "$@"
  echo "Usage: decrypt_result.sh [name]"
  exit 1
}

[ "$#" -eq 1 ] || die "1 argument required, $# provided"

NAME=$1

ENQUERY_HOME="../../target"

java -cp $ENQUERY_HOME/encryptedquery-1.0.0-SNAPSHOT-exe.jar org.enquery.encryptedquery.querier.wideskies.QuerierDriver  -a decrypt \
-qf $NAME-querier -i $NAME-query-result -nt 1 -o $NAME-plain-result -qs queryschema_$NAME.xml -ds dataschema_$NAME.xml

